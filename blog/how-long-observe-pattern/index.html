<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>How Long Does It Take to Observe a Sequence?</title>
  <meta name="author" content="Lisha Li">

  <link href="http://y570.stat.iastate.edu:8000/atom.xml" type="application/atom+xml" rel="alternate"
        title="Lisha Li's Blog Atom Feed" />


  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="http://y570.stat.iastate.edu:8000/favicon.png" rel="icon">
  <link href="http://y570.stat.iastate.edu:8000/theme/css/main_2.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="http://y570.stat.iastate.edu:8000/theme/js/modernizr-2.0.js"></script>
  <script src="http://y570.stat.iastate.edu:8000/theme/js/ender.js"></script>
  <script src="http://y570.stat.iastate.edu:8000/theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
      
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type= "text/javascript">
       MathJax.Hub.Config({
           config: ["MMLorHTML.js"],
           jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML"],
           TeX: { extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"], equationNumbers: { autoNumber: "AMS" } },
           extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js"],
           tex2jax: { 
               inlineMath: [ ['$','$'] ],
               displayMath: [ ['$$','$$'] ],
               processEscapes: true },
           "HTML-CSS": {
               styles: { ".MathJax .mo, .MathJax .mi": {color: "black ! important"}}
           }
       });
    </script>

</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="http://y570.stat.iastate.edu:8000/">Lisha Li's Blog</a></h1>
    <h2>It's never too late to learn.</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://y570.stat.iastate.edu:8000/atom.xml" rel="subscribe-rss">RSS</a></li>
</ul>

<form action="http://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:http://y570.stat.iastate.edu:8000" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<ul class="main-navigation">
    <li><a href="http://y570.stat.iastate.edu:8000">Home</a></li>
    <li><a href="http://y570.stat.iastate.edu:8000">Blog</a></li>
    <li><a href="http://y570.stat.iastate.edu:8000/archives.html">Archives</a></li>
    <li><a href="http://y570.stat.iastate.edu:8000/pages/about.html">About</a></li>
    <li><a href="http://y570.stat.iastate.edu:8000/pages/resume.html">Resume</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">How Long Does It Take to Observe a Sequence?</h1>
      <p class="meta"><time datetime="2010-05-22T00:00:00" pubdate>May 22, 2010</time></p>
</header>

  <div class="entry-content"><p><img src="http://dclong.github.io/media/pattern/coin.jpg" height="200" width="240" align="right"/></p>
<p>There are many interesting while at the same time very tricky problems in
statistics. One famous question is that how many steps (expected) does
it take to observe a given sequence (e.g. THTH, TTHH), if we flip a
balanced coin?</p>
<p>This problem can be solved using (delay) renewal theory or martingales.
These two methods are well explained in stochastic processes text books
(e.g. Stochastic Processes, S. M. Ross), so I will not explain them here. 
I implemented an algorithm base on martingales in Mathematica. 
It can deal with all this kind of problems, no matter how
long the pattern to be observed is and no matter which discrete distribution
is specified for the sample space. The following are some running results in
Mathematica.</p>
<div class="highlight"><pre><span class="n">sp</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;H&quot;</span><span class="p">,</span> <span class="s">&quot;T&quot;</span><span class="p">};</span>
<span class="n">pat1</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;H&quot;</span><span class="p">,</span><span class="s">&quot;H&quot;</span><span class="p">,</span> <span class="s">&quot;T&quot;</span><span class="p">,</span> <span class="s">&quot;T&quot;</span><span class="p">};</span>
<span class="n">pat2</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;H&quot;</span><span class="p">,</span> <span class="s">&quot;T&quot;</span><span class="p">,</span> <span class="s">&quot;H&quot;</span><span class="p">,</span><span class="s">&quot;T&quot;</span><span class="p">};</span>
<span class="n">PatternExpectedTime</span><span class="p">[</span><span class="n">pat1</span><span class="p">,</span> <span class="n">sp</span><span class="p">]</span>
<span class="mi">16</span>
<span class="n">PatternExpectedTime</span><span class="p">[</span><span class="n">pat2</span><span class="p">,</span> <span class="n">sp</span><span class="p">]</span>
<span class="mi">20</span>
</pre></div>


<p>Some people might be shock by the above results, because they either think
that the result should be the same, or they think that the expected time for
patter "HTHT" to occur should be smaller. Notice that pattern "HTHT" has a
duplicated structure which is the reason make it harder to occur. To be clearer,
we know that a random sequence generated by flipping a coin n times won't have
a big chance to have either too many or too few runs. Duplicated structures
usually result in too many runs in sequence, e.g. "HTHT" has four runs which
is the biggest run we can have in a sequence of length 4, so it would take more
time on average for "HTHT" to come out.</p>
<p>Here are <a href="http://dclong.github.io/media/pattern/pattern-time-examples.pdf">more examples and results</a> of the <a href="http://dclong.github.io/media/pattern/pattern.cdf">code</a>.
You need either Mathematica or CDF player to open the code.
For you convenience, the code is also presented below. 
Notice that the code also contains a function for calculating the probability for a 
pattern to come out before other patterns. 
For a more detail description about this interesting problem see my post 
<a href="http://dclong.github.io/en/2010/05/best-strategy/">Which One Is the Best Strategy?</a> and
<a href="http://dclong.github.io/en/2012/07/best-strategy-2/">Which One Is the Best Strategy? (continued)</a>.</p>
<div class="highlight"><pre><span class="nx">PatternExpectedTime</span><span class="o">::</span><span class="nx">nprob</span> <span class="o">=</span> <span class="s2">&quot;All element of `1` are negative.&quot;</span><span class="p">;</span>
<span class="nx">PatternExpectedTime</span><span class="o">::</span><span class="nx">ndist</span> <span class="o">=</span> <span class="s2">&quot;The sum of `1` is greater than 1.&quot;</span><span class="p">;</span>
<span class="nx">PatternExpectedTime</span><span class="o">::</span><span class="nx">sp</span> <span class="o">=</span> <span class="s2">&quot;The sample space `1` has duplicated element(s).&quot;</span><span class="p">;</span>
<span class="nx">PatternExpectedTime</span><span class="o">::</span><span class="nx">nmatch</span> <span class="o">=</span> <span class="s2">&quot;The length of `1` does not match the length of `2`.&quot;</span><span class="p">;</span>
<span class="nx">PatternExpectedTime</span><span class="cp">[</span><span class="nx">pattern_</span><span class="p">,</span> <span class="nx">samspace_</span><span class="p">,</span> <span class="nx">prob_</span><span class="p">:</span> <span class="kt">Null</span><span class="p">,</span> <span class="nx">padj_</span><span class="p">:</span> <span class="kc">True</span><span class="cp">]</span> <span class="o">:=</span>
    <span class="p">(</span><span class="o">*</span><span class="nx">the</span> <span class="nx">algorithm</span> <span class="nx">is</span> <span class="nx">based</span> <span class="nx">on</span> <span class="nx">martingales</span><span class="o">*</span><span class="p">)</span>
    <span class="p">(</span><span class="o">*</span><span class="nx">pattern</span><span class="o">:</span> <span class="nx">a</span> <span class="nx">list</span> <span class="nx">defining</span> <span class="nx">the</span> <span class="nx">pattern</span> <span class="nx">to</span> <span class="nx">be</span> <span class="nx">observed</span><span class="o">*</span><span class="p">)</span>
    <span class="p">(</span><span class="o">*</span><span class="nx">samspace</span><span class="o">:</span> <span class="nx">a</span> <span class="nx">list</span> <span class="nx">defining</span> <span class="nx">the</span> <span class="nx">sample</span> <span class="nx">space</span><span class="o">*</span><span class="p">)</span>
    <span class="p">(</span><span class="o">*</span><span class="nx">prob</span><span class="o">:</span> <span class="nx">a</span> <span class="nx">list</span> <span class="nx">defining</span> <span class="nx">probabilites</span><span class="o">*</span><span class="p">)</span>
    <span class="p">(</span><span class="o">*</span><span class="nx">padj</span><span class="o">:</span> <span class="nx">logical</span><span class="p">,</span> <span class="nx">whether</span> <span class="nx">to</span> <span class="nx">auto</span> <span class="nx">adjust</span> <span class="nx">argument</span> <span class="nx">prob</span> <span class="nx">to</span> <span class="nx">make</span> <span class="nx">it</span> <span class="nx">sum</span> <span class="nx">to</span> <span class="mi">1</span><span class="o">*</span><span class="p">)</span>

<span class="nx">Module</span><span class="cp">[</span><span class="p">{</span><span class="nx">nsample</span><span class="p">,</span> <span class="nx">npattern</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="n">ResultProb</span> <span class="o">=</span> <span class="p">{},</span> <span class="nx">temp</span><span class="p">,</span> <span class="nx">expect</span><span class="p">,</span> <span class="nx">probs</span><span class="p">},</span>
    <span class="n">nsample</span> <span class="o">=</span> <span class="nb">Length</span><span class="err">[</span><span class="nx">samspace</span><span class="cp">]</span><span class="p">;</span>
    <span class="nx">If</span><span class="cp">[</span><span class="nb">Length</span><span class="err">[</span><span class="nx">DeleteDuplicates</span><span class="err">[</span><span class="nx">samspace</span><span class="cp">]</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nx">nsample</span><span class="p">,</span>
        <span class="nx">Message</span><span class="cp">[</span><span class="nx">PatternExpectedTime</span><span class="p">::</span><span class="nl">sp</span><span class="p">,</span> <span class="nx">samspace</span><span class="cp">]</span><span class="p">;</span>
        <span class="nx">Return</span><span class="cp">[]</span>
    <span class="p">];</span>
    <span class="nx">If</span><span class="cp">[</span><span class="nx">prob</span> <span class="o">===</span> <span class="kt">Null</span><span class="p">,</span>
    <span class="n">probs</span> <span class="o">=</span> <span class="nb">Table</span><span class="err">[</span><span class="mi">1</span><span class="p">/</span><span class="nx">nsample</span><span class="p">,</span> <span class="p">{</span><span class="nx">nsample</span><span class="p">}</span><span class="cp">]</span><span class="p">,</span>
    <span class="nx">If</span><span class="cp">[</span><span class="nb">Length</span><span class="err">[</span><span class="nx">prob</span><span class="cp">]</span> <span class="o">!=</span> <span class="nx">nsample</span><span class="p">,</span>
        <span class="nx">Message</span><span class="cp">[</span><span class="nx">PatternExpectedTime</span><span class="p">::</span><span class="nl">nmatch</span><span class="p">,</span> <span class="nx">prob</span><span class="p">,</span> <span class="nx">samspace</span><span class="cp">]</span><span class="p">;</span>
        <span class="nx">Return</span><span class="cp">[]</span>
    <span class="p">];</span>
    <span class="nx">If</span><span class="cp">[</span><span class="k">Min</span><span class="err">[</span><span class="nx">prob</span><span class="cp">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">Message</span><span class="cp">[</span><span class="nx">PatternExpectedTime</span><span class="p">::</span><span class="nl">nprob</span><span class="p">,</span> <span class="nx">prob</span><span class="cp">]</span><span class="p">;</span>
    <span class="nx">Return</span><span class="cp">[]</span>
    <span class="p">];</span>
    <span class="nx">If</span><span class="cp">[</span><span class="nx">padj</span><span class="p">,</span>
        <span class="n">probs</span> <span class="o">=</span> <span class="nx">prob</span><span class="p">/</span><span class="nx">Total</span><span class="err">[</span><span class="nx">prob</span><span class="cp">]</span><span class="p">,</span>
        <span class="nx">If</span><span class="cp">[</span><span class="nx">Total</span><span class="err">[</span><span class="nx">prob</span><span class="cp">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span>
          <span class="nx">Message</span><span class="cp">[</span><span class="nx">PatternExpectedTime</span><span class="p">::</span><span class="nl">ndist</span><span class="p">,</span> <span class="nx">prob</span><span class="cp">]</span><span class="p">;</span>
          <span class="nx">Return</span><span class="cp">[]</span><span class="p">,</span>
          <span class="nx">probs</span> <span class="o">=</span> <span class="nx">prob</span>
          <span class="p">];</span>
        <span class="p">];</span>
    <span class="p">];</span>
    <span class="p">(</span><span class="o">*</span><span class="nx">the</span> <span class="nx">following</span> <span class="nx">is</span> <span class="nx">the</span> <span class="nx">core</span> <span class="nx">algorithm</span><span class="o">*</span><span class="p">)</span>
    <span class="nx">npattern</span> <span class="o">=</span> <span class="nx">Length</span><span class="cp">[</span><span class="nx">pattern</span><span class="cp">]</span><span class="p">;</span>
    <span class="nx">For</span><span class="cp">[</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">npattern</span><span class="p">,</span> <span class="nx">i</span><span class="o">++</span><span class="p">,</span>
        <span class="nx">AppendTo</span><span class="err">[</span><span class="nx">ResultProb</span><span class="p">,</span> 
        <span class="nx">probs</span><span class="err">[[</span><span class="nx">Flatten</span><span class="err">[</span><span class="nb">Position</span><span class="err">[</span><span class="nx">samspace</span><span class="p">,</span> <span class="nx">pattern</span><span class="err">[[</span><span class="nx">i</span><span class="cp">]</span><span class="p">]]]</span><span class="cp">[</span><span class="err">[</span><span class="mi">1</span><span class="cp">]</span><span class="p">]]]];</span>
    <span class="p">];</span>
    <span class="nx">expect</span> <span class="o">=</span> <span class="nx">npattern</span><span class="p">;</span>
    <span class="nx">For</span><span class="cp">[</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">npattern</span><span class="p">,</span> <span class="nx">i</span><span class="o">++</span><span class="p">,</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nb">For</span><span class="err">[</span><span class="n">j</span> <span class="o">=</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span> <span class="o">&lt;=</span> <span class="nx">npattern</span><span class="p">,</span> <span class="nx">j</span><span class="o">++</span><span class="p">,</span>
            <span class="k">If</span><span class="err">[</span><span class="nx">pattern</span><span class="err">[[</span><span class="nx">j</span><span class="cp">]</span><span class="p">]</span> <span class="o">==</span> <span class="nx">pattern</span><span class="cp">[</span><span class="err">[</span><span class="nx">j</span> <span class="o">-</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="cp">]</span><span class="p">],</span>
                <span class="nx">temp</span> <span class="o">=</span> <span class="nx">temp</span><span class="o">/</span><span class="nx">ResultProb</span><span class="cp">[</span><span class="err">[</span><span class="nx">j</span><span class="cp">]</span><span class="p">],</span>
                <span class="nx">temp</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="nx">Break</span><span class="cp">[]</span>
            <span class="p">]</span>
        <span class="p">];</span>
        <span class="nx">expect</span> <span class="o">=</span> <span class="nx">expect</span> <span class="o">+</span> <span class="nx">temp</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="p">];</span>
    <span class="nx">Return</span><span class="cp">[</span><span class="nx">expect</span><span class="cp">]</span>
<span class="p">]</span>

<span class="nx">PatternAdditionalExpectedTime</span><span class="cp">[</span><span class="nx">pat_</span><span class="p">,</span> <span class="nx">gpat_</span><span class="p">,</span> <span class="nx">samspace_</span><span class="p">,</span> <span class="nx">prob_</span><span class="p">:</span> <span class="kt">Null</span><span class="p">,</span> <span class="nx">padj_</span><span class="p">:</span> <span class="kc">True</span><span class="cp">]</span> <span class="o">:=</span>
<span class="p">(</span><span class="o">*</span><span class="nx">calculate</span> <span class="nx">the</span> <span class="nx">expected</span> <span class="nx">time</span> <span class="k">for</span> <span class="nx">a</span> <span class="nx">pat</span> <span class="nx">to</span> <span class="nx">occur</span> <span class="o">\</span>
<span class="nx">given</span> <span class="nx">that</span> <span class="nx">gpat</span> <span class="nx">already</span> <span class="nx">occurs</span><span class="p">,</span>
<span class="nx">it</span><span class="err">&#39;</span><span class="nx">s</span> <span class="nx">essentially</span> <span class="nx">based</span> <span class="nx">on</span> <span class="nx">the</span> <span class="kd">function</span> <span class="nx">PatternExpectedTime</span><span class="cp">[]</span><span class="o">*</span><span class="p">)</span>
<span class="nx">Module</span><span class="cp">[</span><span class="p">{</span><span class="nx">npat</span><span class="p">,</span> <span class="nx">ngpat</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="nb">count</span><span class="p">,</span> <span class="n">win</span> <span class="o">=</span> <span class="p">{},</span> <span class="nx">temp</span><span class="p">,</span> <span class="nx">nsample</span><span class="p">,</span> <span class="nx">probs</span><span class="p">},</span>
    <span class="n">nsample</span> <span class="o">=</span> <span class="nb">Length</span><span class="err">[</span><span class="nx">samspace</span><span class="cp">]</span><span class="p">;</span>
    <span class="nx">If</span><span class="cp">[</span><span class="nb">Length</span><span class="err">[</span><span class="nx">DeleteDuplicates</span><span class="err">[</span><span class="nx">samspace</span><span class="cp">]</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nx">nsample</span><span class="p">,</span>
        <span class="nx">Message</span><span class="cp">[</span><span class="nx">PatternExpectedTime</span><span class="p">::</span><span class="nl">sp</span><span class="p">,</span> <span class="nx">samspace</span><span class="cp">]</span><span class="p">;</span>
        <span class="nx">Return</span><span class="cp">[]</span>
    <span class="p">];</span>
    <span class="nx">If</span><span class="cp">[</span><span class="nx">prob</span> <span class="o">===</span> <span class="kt">Null</span><span class="p">,</span>
        <span class="n">probs</span> <span class="o">=</span> <span class="nb">Table</span><span class="err">[</span><span class="mi">1</span><span class="p">/</span><span class="nx">nsample</span><span class="p">,</span> <span class="p">{</span><span class="nx">nsample</span><span class="p">}</span><span class="cp">]</span><span class="p">,</span>
        <span class="nx">If</span><span class="cp">[</span><span class="nb">Length</span><span class="err">[</span><span class="nx">prob</span><span class="cp">]</span> <span class="o">!=</span> <span class="nx">nsample</span><span class="p">,</span>
            <span class="nx">Message</span><span class="cp">[</span><span class="nx">PatternExpectedTime</span><span class="p">::</span><span class="nl">nmatch</span><span class="p">,</span> <span class="nx">prob</span><span class="p">,</span> <span class="nx">samspace</span><span class="cp">]</span><span class="p">;</span>
            <span class="nx">Return</span><span class="cp">[]</span>
        <span class="p">];</span>
        <span class="nx">If</span><span class="cp">[</span><span class="k">Min</span><span class="err">[</span><span class="nx">prob</span><span class="cp">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nx">Message</span><span class="cp">[</span><span class="nx">PatternExpectedTime</span><span class="p">::</span><span class="nl">nprob</span><span class="p">,</span> <span class="nx">prob</span><span class="cp">]</span><span class="p">;</span>
            <span class="nx">Return</span><span class="cp">[]</span>
        <span class="p">];</span>
        <span class="nx">If</span><span class="cp">[</span><span class="nx">padj</span><span class="p">,</span>
            <span class="n">probs</span> <span class="o">=</span> <span class="nx">prob</span><span class="p">/</span><span class="nx">Total</span><span class="err">[</span><span class="nx">prob</span><span class="cp">]</span><span class="p">,</span>
            <span class="nx">If</span><span class="cp">[</span><span class="nx">Total</span><span class="err">[</span><span class="nx">prob</span><span class="cp">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span>
                <span class="nx">Message</span><span class="cp">[</span><span class="nx">PatternExpectedTime</span><span class="p">::</span><span class="nl">ndist</span><span class="p">,</span> <span class="nx">prob</span><span class="cp">]</span><span class="p">;</span>
                <span class="nx">Return</span><span class="cp">[]</span><span class="p">,</span>
                <span class="nx">probs</span> <span class="o">=</span> <span class="nx">prob</span>
            <span class="p">];</span>
        <span class="p">];</span>
    <span class="p">];</span>
    <span class="nx">npat</span> <span class="o">=</span> <span class="nx">Length</span><span class="cp">[</span><span class="nx">pat</span><span class="cp">]</span><span class="p">;</span>
    <span class="nx">ngpat</span> <span class="o">=</span> <span class="nx">Length</span><span class="cp">[</span><span class="nx">gpat</span><span class="cp">]</span><span class="p">;</span>
    <span class="nx">count</span> <span class="o">=</span> <span class="nx">ngpat</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="nx">npat</span><span class="p">;</span>
    <span class="nx">If</span><span class="cp">[</span><span class="nb">count</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nb">For</span><span class="err">[</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">npat</span><span class="p">,</span> <span class="nx">i</span><span class="o">++</span><span class="p">,</span>
            <span class="nx">temp</span> <span class="o">/=</span> <span class="nx">probs</span><span class="err">[[</span><span class="nx">Flatten</span><span class="err">[</span><span class="nb">Position</span><span class="err">[</span><span class="nx">samspace</span><span class="p">,</span> <span class="nx">pat</span><span class="err">[[</span><span class="nx">i</span><span class="cp">]</span><span class="p">]]]</span><span class="cp">[</span><span class="err">[</span><span class="mi">1</span><span class="cp">]</span><span class="p">]]]</span>
        <span class="p">];</span>
        <span class="nx">temp</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nx">For</span><span class="cp">[</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nb">count</span><span class="p">,</span> <span class="nx">i</span><span class="o">++</span><span class="p">,</span>
            <span class="nb">For</span><span class="err">[</span><span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j</span> <span class="o">&lt;=</span> <span class="nx">npat</span><span class="p">,</span> <span class="nx">j</span><span class="o">++</span><span class="p">,</span>
                <span class="k">If</span><span class="err">[</span><span class="nx">gpat</span><span class="err">[[</span><span class="nx">i</span> <span class="o">+</span> <span class="nx">j</span> <span class="o">-</span> <span class="mi">1</span><span class="cp">]</span><span class="p">]</span> <span class="o">!=</span> <span class="nx">pat</span><span class="cp">[</span><span class="err">[</span><span class="nx">j</span><span class="cp">]</span><span class="p">],</span>
                    <span class="nx">AppendTo</span><span class="cp">[</span><span class="nx">win</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="cp">]</span><span class="p">;</span>
                    <span class="nx">Goto</span><span class="cp">[</span><span class="nb">next</span><span class="cp">]</span><span class="p">;</span>
                <span class="p">];</span>
            <span class="p">];</span>
            <span class="nx">AppendTo</span><span class="cp">[</span><span class="nx">win</span><span class="p">,</span> <span class="nx">temp</span><span class="cp">]</span><span class="p">;</span>
            <span class="nx">Label</span><span class="cp">[</span><span class="nb">next</span><span class="cp">]</span><span class="p">;</span>
        <span class="p">];</span>
    <span class="p">];</span>
    <span class="nx">count</span> <span class="o">=</span> <span class="nx">Max</span><span class="cp">[</span><span class="mi">1</span><span class="p">,</span> <span class="nb">count</span> <span class="o">+</span> <span class="mi">1</span><span class="cp">]</span><span class="p">;</span>
    <span class="nx">For</span><span class="cp">[</span><span class="n">i</span> <span class="o">=</span> <span class="nb">count</span><span class="p">,</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">ngpat</span><span class="p">,</span> <span class="nx">i</span><span class="o">++</span><span class="p">,</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nb">For</span><span class="err">[</span><span class="n">j</span> <span class="o">=</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span> <span class="o">&lt;=</span> <span class="nx">ngpat</span><span class="p">,</span> <span class="nx">j</span><span class="o">++</span><span class="p">,</span>
            <span class="k">If</span><span class="err">[</span><span class="nx">gpat</span><span class="err">[[</span><span class="nx">j</span><span class="cp">]</span><span class="p">]</span> <span class="o">==</span> <span class="nx">pat</span><span class="cp">[</span><span class="err">[</span><span class="nx">j</span> <span class="o">-</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="cp">]</span><span class="p">],</span>
                <span class="nx">temp</span> <span class="o">/=</span> 
                <span class="nx">probs</span><span class="cp">[</span><span class="err">[</span><span class="nx">Flatten</span><span class="err">[</span><span class="nb">Position</span><span class="err">[</span><span class="nx">samspace</span><span class="p">,</span> <span class="nx">pat</span><span class="err">[[</span><span class="nx">j</span> <span class="o">-</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="cp">]</span><span class="p">]]]</span><span class="cp">[</span><span class="err">[</span><span class="mi">1</span><span class="cp">]</span><span class="p">]]],</span>
                <span class="nx">temp</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="nx">Break</span><span class="cp">[]</span><span class="p">;</span>
            <span class="p">];</span>
        <span class="p">];</span>
        <span class="nx">AppendTo</span><span class="cp">[</span><span class="nx">win</span><span class="p">,</span> <span class="nx">temp</span> <span class="o">-</span> <span class="mi">1</span><span class="cp">]</span><span class="p">;</span>
    <span class="p">];</span>
    <span class="nx">win</span> <span class="o">=</span> <span class="nx">Total</span><span class="cp">[</span><span class="nx">win</span><span class="cp">]</span><span class="p">;</span>
    <span class="nx">PatternExpectedTime</span><span class="cp">[</span><span class="nx">pat</span><span class="p">,</span> <span class="nx">samspace</span><span class="p">,</span> <span class="nx">probs</span><span class="p">,</span> <span class="nx">padj</span><span class="cp">]</span> <span class="o">-</span> <span class="nx">win</span> <span class="o">-</span> <span class="nx">ngpat</span>
<span class="p">]</span>

<span class="nx">PatternFirstComeOutProbability</span><span class="o">::</span><span class="nx">patnum</span> <span class="o">=</span> <span class="s2">&quot;Argument `1` requires 2 or more elements.&quot;</span><span class="p">;</span>
<span class="nx">PatternFirstComeOutProbability</span><span class="cp">[</span><span class="nx">patterns_</span><span class="p">,</span> <span class="nx">samspace_</span><span class="p">,</span> <span class="nx">prob_</span><span class="p">:</span> <span class="kt">Null</span><span class="p">,</span> <span class="nx">padj_</span><span class="p">:</span> <span class="kc">True</span><span class="cp">]</span> <span class="o">:=</span> 
<span class="nx">Module</span><span class="cp">[</span><span class="p">{</span><span class="nx">npat</span><span class="p">,</span> <span class="n">A</span> <span class="o">=</span> <span class="p">{},</span> <span class="n">row</span> <span class="o">=</span> <span class="p">{},</span> <span class="n">b</span> <span class="o">=</span> <span class="p">{},</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="nx">nsample</span><span class="p">,</span> <span class="nx">probs</span><span class="p">},</span>
    <span class="p">(</span><span class="o">*</span><span class="nx">patterns</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nb">list</span> <span class="nx">which</span> <span class="nb">contains</span> <span class="nx">patterns</span> <span class="k">to</span> <span class="nx">be</span> <span class="nx">compared</span><span class="o">*</span><span class="p">)</span>
    <span class="p">(</span><span class="o">*</span><span class="nx">dist</span> <span class="nx">is</span> <span class="nb">list</span> <span class="nx">which</span> <span class="nx">specifies</span> <span class="nx">a</span> <span class="nx">discrete</span> <span class="nx">distribution</span><span class="o">*</span><span class="p">)</span>
    <span class="n">npat</span> <span class="o">=</span> <span class="nb">Length</span><span class="err">[</span><span class="nx">patterns</span><span class="cp">]</span><span class="p">;</span>
    <span class="nx">If</span><span class="cp">[</span><span class="nx">npat</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">,</span>
        <span class="nx">Message</span><span class="err">[</span><span class="nx">PatternFirstComeOutProbability</span><span class="p">::</span><span class="nl">patnum</span><span class="p">,</span> <span class="nx">patterns</span><span class="cp">]</span><span class="p">;</span>
        <span class="nx">Return</span><span class="cp">[]</span>
    <span class="p">];</span>
    <span class="nx">nsample</span> <span class="o">=</span> <span class="nx">Length</span><span class="cp">[</span><span class="nx">samspace</span><span class="cp">]</span><span class="p">;</span>
    <span class="nx">If</span><span class="cp">[</span><span class="nb">Length</span><span class="err">[</span><span class="nx">DeleteDuplicates</span><span class="err">[</span><span class="nx">samspace</span><span class="cp">]</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nx">nsample</span><span class="p">,</span>
        <span class="nx">Message</span><span class="cp">[</span><span class="nx">PatternExpectedTime</span><span class="p">::</span><span class="nl">sp</span><span class="p">,</span> <span class="nx">samspace</span><span class="cp">]</span><span class="p">;</span>
        <span class="nx">Return</span><span class="cp">[]</span>
    <span class="p">];</span>
    <span class="nx">If</span><span class="cp">[</span><span class="nx">prob</span> <span class="o">===</span> <span class="kt">Null</span><span class="p">,</span>
        <span class="n">probs</span> <span class="o">=</span> <span class="nb">Table</span><span class="err">[</span><span class="mi">1</span><span class="p">/</span><span class="nx">nsample</span><span class="p">,</span> <span class="p">{</span><span class="nx">nsample</span><span class="p">}</span><span class="cp">]</span><span class="p">,</span>
        <span class="nx">If</span><span class="cp">[</span><span class="nb">Length</span><span class="err">[</span><span class="nx">prob</span><span class="cp">]</span> <span class="o">!=</span> <span class="nx">nsample</span><span class="p">,</span>
            <span class="nx">Message</span><span class="cp">[</span><span class="nx">PatternExpectedTime</span><span class="p">::</span><span class="nl">nmatch</span><span class="p">,</span> <span class="nx">prob</span><span class="p">,</span> <span class="nx">samspace</span><span class="cp">]</span><span class="p">;</span>
            <span class="nx">Return</span><span class="cp">[]</span>
        <span class="p">];</span>
        <span class="nx">If</span><span class="cp">[</span><span class="k">Min</span><span class="err">[</span><span class="nx">prob</span><span class="cp">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nx">Message</span><span class="cp">[</span><span class="nx">PatternExpectedTime</span><span class="p">::</span><span class="nl">nprob</span><span class="p">,</span> <span class="nx">prob</span><span class="cp">]</span><span class="p">;</span>
            <span class="nx">Return</span><span class="cp">[]</span>
        <span class="p">];</span>
        <span class="nx">If</span><span class="cp">[</span><span class="nx">padj</span><span class="p">,</span>
            <span class="n">probs</span> <span class="o">=</span> <span class="nx">prob</span><span class="p">/</span><span class="nx">Total</span><span class="err">[</span><span class="nx">prob</span><span class="cp">]</span><span class="p">,</span>
            <span class="nx">If</span><span class="cp">[</span><span class="nx">Total</span><span class="err">[</span><span class="nx">prob</span><span class="cp">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span>
                <span class="nx">Message</span><span class="cp">[</span><span class="nx">PatternExpectedTime</span><span class="p">::</span><span class="nl">ndist</span><span class="p">,</span> <span class="nx">prob</span><span class="cp">]</span><span class="p">;</span>
                <span class="nx">Return</span><span class="cp">[]</span><span class="p">,</span>
                <span class="nx">probs</span> <span class="o">=</span> <span class="nx">prob</span>
            <span class="p">];</span>
        <span class="p">];</span>
    <span class="p">];</span>
    <span class="nx">A</span> <span class="o">=</span> <span class="nx">Table</span><span class="cp">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">{</span><span class="nx">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">npat</span><span class="p">},</span> <span class="p">{</span><span class="nx">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">npat</span><span class="p">}</span><span class="cp">]</span><span class="p">;</span>
    <span class="nx">For</span><span class="cp">[</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">npat</span><span class="p">,</span> <span class="nx">i</span><span class="o">++</span><span class="p">,</span>
        <span class="nb">For</span><span class="err">[</span><span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j</span> <span class="o">&lt;=</span> <span class="nx">npat</span><span class="p">,</span> <span class="nx">j</span><span class="o">++</span><span class="p">,</span>
            <span class="k">If</span><span class="err">[</span><span class="nx">j</span> <span class="o">==</span> <span class="nx">i</span><span class="p">,</span> <span class="nb">Continue</span><span class="err">[</span><span class="cp">]</span><span class="p">];</span>
                <span class="nx">A</span><span class="cp">[</span><span class="err">[</span><span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="cp">]</span><span class="p">]</span> <span class="o">=</span> <span class="nx">PatternAdditionalExpectedTime</span><span class="cp">[</span><span class="nx">patterns</span><span class="err">[[</span><span class="nx">i</span><span class="cp">]</span><span class="p">],</span> <span class="nx">patterns</span><span class="cp">[</span><span class="err">[</span><span class="nx">j</span><span class="cp">]</span><span class="p">],</span> <span class="nx">samspace</span><span class="p">,</span> <span class="nx">probs</span><span class="p">,</span> <span class="nx">padj</span><span class="p">];</span>
            <span class="p">];</span>
        <span class="p">];</span>
        <span class="nx">A</span> <span class="o">=</span> <span class="nx">Join</span><span class="cp">[</span><span class="nb">Table</span><span class="err">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">{</span><span class="nx">i</span><span class="p">,</span> <span class="nx">npat</span><span class="p">},</span> <span class="p">{</span><span class="nx">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">}</span><span class="cp">]</span><span class="p">,</span> <span class="nx">A</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
        <span class="nx">row</span> <span class="o">=</span> <span class="nx">Table</span><span class="cp">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">{</span><span class="nx">i</span><span class="p">,</span> <span class="nx">npat</span><span class="p">}</span><span class="cp">]</span><span class="p">;</span>
        <span class="nx">PrependTo</span><span class="cp">[</span><span class="nx">row</span><span class="p">,</span> <span class="mi">0</span><span class="cp">]</span><span class="p">;</span>
        <span class="nx">AppendTo</span><span class="cp">[</span><span class="nx">A</span><span class="p">,</span> <span class="nx">row</span><span class="cp">]</span><span class="p">;</span>
        <span class="nx">For</span><span class="cp">[</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">npat</span><span class="p">,</span> <span class="nx">i</span><span class="o">++</span><span class="p">,</span>
            <span class="nx">AppendTo</span><span class="err">[</span><span class="nx">b</span><span class="p">,</span> 
            <span class="nx">PatternExpectedTime</span><span class="err">[</span><span class="nx">patterns</span><span class="err">[[</span><span class="nx">i</span><span class="cp">]</span><span class="p">],</span> <span class="nx">samspace</span><span class="p">,</span> <span class="nx">probs</span><span class="p">,</span> <span class="nx">padj</span><span class="p">]</span>
        <span class="p">]</span>
    <span class="p">];</span>
    <span class="nx">AppendTo</span><span class="cp">[</span><span class="nx">b</span><span class="p">,</span> <span class="mi">1</span><span class="cp">]</span><span class="p">;</span>
    <span class="nx">Return</span><span class="cp">[</span><span class="nx">LinearSolve</span><span class="err">[</span><span class="nx">A</span><span class="p">,</span> <span class="nx">b</span><span class="cp">]</span><span class="p">];</span>
<span class="p">]</span>
</pre></div></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">Chuanlong (Ben) Du</span>
  </span>
<time datetime="2010-05-22T00:00:00" pubdate>May 22, 2010</time>  <span class="categories">
    <a class="category" href="http://y570.stat.iastate.edu:8000/tag/mathematica.html">Mathematica</a>
    <a class="category" href="http://y570.stat.iastate.edu:8000/tag/pattern.html">pattern</a>
    <a class="category" href="http://y570.stat.iastate.edu:8000/tag/markov-chain.html">Markov chain</a>
    <a class="category" href="http://y570.stat.iastate.edu:8000/tag/statistics.html">statistics</a>
    <a class="category" href="http://y570.stat.iastate.edu:8000/tag/sequence.html">sequence</a>
    <a class="category" href="http://y570.stat.iastate.edu:8000/tag/coin.html">coin</a>
    <a class="category" href="http://y570.stat.iastate.edu:8000/tag/stochastic.html">stochastic</a>
    <a class="category" href="http://y570.stat.iastate.edu:8000/tag/martingale.html">martingale</a>
    <a class="category" href="http://y570.stat.iastate.edu:8000/tag/fun-problems.html">fun problems</a>
  </span>
</p>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="http://y570.stat.iastate.edu:8000/blog/compress-and-decompress-in-linux/">Compress and Decompressing Archives in Linux</a>
      </li>
      <li class="post">
          <a href="http://y570.stat.iastate.edu:8000/blog/useful-tools-linux/">Useful Tools in Linux</a>
      </li>
      <li class="post">
          <a href="http://y570.stat.iastate.edu:8000/blog/macro-in-sas/">Macro in SAS</a>
      </li>
      <li class="post">
          <a href="http://y570.stat.iastate.edu:8000/blog/general-tips-for-sas/">General Tips for SAS</a>
      </li>
      <li class="post">
          <a href="http://y570.stat.iastate.edu:8000/blog/sas-data-manipulation/">Manipulate Data in SAS</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="http://y570.stat.iastate.edu:8000/category/fun-problem.html">fun problem</a></li>
        <li><a href="http://y570.stat.iastate.edu:8000/category/fun-problems.html">Fun Problems</a></li>
        <li><a href="http://y570.stat.iastate.edu:8000/category/linux.html">Linux</a></li>
        <li><a href="http://y570.stat.iastate.edu:8000/category/programming.html">Programming</a></li>
        <li><a href="http://y570.stat.iastate.edu:8000/category/research.html">Research</a></li>
        <li><a href="http://y570.stat.iastate.edu:8000/category/software.html">Software</a></li>
        <li><a href="http://y570.stat.iastate.edu:8000/category/statistics.html">Statistics</a></li>
        <li><a href="http://y570.stat.iastate.edu:8000/category/windows.html">Windows</a></li>
        <li><a href="http://y570.stat.iastate.edu:8000/category/work.html">Work</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
  <p class="tagcloud">
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/recursion.html">recursion</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/puzzle.html">puzzle</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/skills.html">skills</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/sequence.html">sequence</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/os.html">OS</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/list.html">list</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/formula.html">formula</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/stochastic.html">stochastic</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/network.html">network</a>
          </span>
          <span class="tag-2">
              <a href="http://y570.stat.iastate.edu:8000/tag/r.html">R</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/windows.html">Windows</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/graphics.html">graphics</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/array.html">array</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/operator.html">operator</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/rng.html">RNG</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/shell.html">shell</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/vbvbnet.html">VB/VB.net</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/martingale.html">martingale</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/ubuntu.html">Ubuntu</a>
          </span>
          <span class="tag-4">
              <a href="http://y570.stat.iastate.edu:8000/tag/fun-problems.html">fun problems</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/debian.html">Debian</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/configuration.html">configuration</a>
          </span>
          <span class="tag-4">
              <a href="http://y570.stat.iastate.edu:8000/tag/c.html">C++</a>
          </span>
          <span class="tag-3">
              <a href="http://y570.stat.iastate.edu:8000/tag/java.html">Java</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/matrix.html">matrix</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/backup.html">backup</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/bug.html">bug</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/regex.html">regex</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/parallel.html">parallel</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/work.html">Work</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/pdf.html">PDF</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/vim.html">Vim</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/concurrency.html">concurrency</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/math.html">math</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/library.html">library</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/vector.html">vector</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/dropbox.html">Dropbox</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/function.html">function</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/terminal.html">terminal</a>
          </span>
          <span class="tag-5">
              <a href="http://y570.stat.iastate.edu:8000/tag/mathematica.html">Mathematica</a>
          </span>
          <span class="tag-4">
              <a href="http://y570.stat.iastate.edu:8000/tag/software.html">software</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/ide.html">IDE</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/require.html">require</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/trap.html">trap</a>
          </span>
          <span class="tag-5">
              <a href="http://y570.stat.iastate.edu:8000/tag/tips.html">tips</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/eclipse.html">Eclipse</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/debug.html">debug</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/number.html">number</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/coin.html">coin</a>
          </span>
          <span class="tag-1">
              <a href="http://y570.stat.iastate.edu:8000/tag/programming.html">programming</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/server.html">server</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/office.html">office</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/data-frame.html">data frame</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/de.html">DE</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/compiler.html">compiler</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/synchronization.html">synchronization</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/email.html">email</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/distribution.html">distribution</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/mt.html">MT</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/d.html">D</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/package.html">package</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/compile.html">compile</a>
          </span>
          <span class="tag-5">
              <a href="http://y570.stat.iastate.edu:8000/tag/latex.html">Latex</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/verizon.html">verizon</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/research.html">research</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/rcpp.html">Rcpp</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/trick.html">trick</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/permutation.html">permutation</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/loop.html">loop</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/python.html">Python</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/image.html">image</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/condition.html">condition</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/markov-chain.html">Markov chain</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/override.html">override</a>
          </span>
          <span class="tag-4">
              <a href="http://y570.stat.iastate.edu:8000/tag/matlab.html">MATLAB</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/thread.html">thread</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/anti-virus.html">anti-virus</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/jekyll.html">Jekyll</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/chinese.html">Chinese</a>
          </span>
          <span class="tag-5">
              <a href="http://y570.stat.iastate.edu:8000/tag/ruby.html">Ruby</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/sas.html">SAS</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/bash.html">bash</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/hpc.html">HPC</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/web.html">Web</a>
          </span>
          <span class="tag-5">
              <a href="http://y570.stat.iastate.edu:8000/tag/string.html">string</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/plot.html">plot</a>
          </span>
          <span class="tag-4">
              <a href="http://y570.stat.iastate.edu:8000/tag/statistics.html">statistics</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/pattern.html">pattern</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/io.html">IO</a>
          </span>
          <span class="tag-3">
              <a href="http://y570.stat.iastate.edu:8000/tag/linux.html">Linux</a>
          </span>
          <span class="tag-5">
              <a href="http://y570.stat.iastate.edu:8000/tag/cc.html">C/C++</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/mutex.html">mutex</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/lock.html">lock</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/julia.html">Julia</a>
          </span>
          <span class="tag-7">
              <a href="http://y570.stat.iastate.edu:8000/tag/phone.html">phone</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/character.html">character</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/ssh.html">SSH</a>
          </span>
          <span class="tag-8">
              <a href="http://y570.stat.iastate.edu:8000/tag/portable.html">portable</a>
          </span>
          <span class="tag-6">
              <a href="http://y570.stat.iastate.edu:8000/tag/remote.html">remote</a>
          </span>
          <span class="tag-5">
              <a href="http://y570.stat.iastate.edu:8000/tag/probability.html">probability</a>
          </span>
  </p>
  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
      <a href="https://github.com/dclong">@dclong</a> on GitHub
    <script type="text/javascript">
      $.domReady(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = 'http://y570.stat.iastate.edu:8000/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'dclong',
              count: 3,
              skip_forks: true,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="http://y570.stat.iastate.edu:8000/theme/js/github.js" type="text/javascript"> </script>
  </section>

    <section>
        <h1>Social</h2>
        <ul>
            <li><a href="http://www.linkedin.com/pub/chuanlong-ben-du/21/9b2/123/" target="_blank">LinkedIn</a></li>
            <li><a href="https://twitter.com/longendu" target="_blank">Twitter</a></li>
            <li><a href="https://www.facebook.com/chuanlong.du" target="_blank">Facebook</a></li>
        <!--
            <li><a href="http://y570.stat.iastate.edu:8000/" type="application/rss+xml" rel="alternate">RSS</a></li>
            -->
        </ul>
    </section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Lisha Li -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30259661-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
	<script type="text/javascript">
	  var disqus_shortname = 'dclong';
          var disqus_identifier = '/blog/how-long-observe-pattern/';
          var disqus_url = 'http://y570.stat.iastate.edu:8000/blog/how-long-observe-pattern/';
          var disqus_title = 'How Long Does It Take to Observe a Sequence?';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
</body>
</html>